<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <title>DARMOWE TV NA VLC PLAYER</title>
  <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    body {background:linear-gradient(135deg, #1e3c72, #2a5298);color:#fff;font-family:Arial, sans-serif;margin:0;padding:20px 0;}
    .container {max-width:1200px;margin:auto;background:rgba(0,0,0,0.4);border-radius:15px;padding:30px;box-shadow:0 10px 30px rgba(0,0,0,0.5);}
    h1 {font-size:42px;text-align:center;margin:0 0 20px;text-shadow:0 0 10px #0ff;}
    .download {text-align:center;margin:30px 0;}
    .download a {background:#00ff9d;color:#000;padding:18px 40px;font-size:24px;border-radius:50px;text-decoration:none;font-weight:bold;box-shadow:0 5px 15px rgba(0,255,157,0.4);}
    .download a:hover {background:#00cc7a;}
    .channels {display:grid;grid-template-columns:repeat(auto-fill, minmax(250px,1fr));gap:20px;margin:40px 0;}
    .channel button {background:rgba(255,255,255,0.15);color:#fff;padding:20px;border:none;border-radius:12px;cursor:pointer;font-size:18px;transition:0.3s;box-shadow:0 5px 15px rgba(0,0,0,0.3);}
    .channel button:hover {background:#00ff9d;color:#000;transform:scale(1.05);}
    .extra {text-align:center;margin:60px 0;}
    .extra button {background:#ff2d95;color:#fff;padding:20px 60px;font-size:26px;border:none;border-radius:50px;cursor:pointer;box-shadow:0 0 20px #ff2d95;}
    .extra button:hover {background:#ff0080;}
  </style>
</head>
<body>

  <div class="container">
    <h1><i class="fas fa-tv"></i> DARMOWE TV NA VLC PLAYER</h1>

    <div class="download">
      <a href="https://security.freefreaks.top/playlist.m3u" download="playlist.m3u">
        <i class="fas fa-download"></i> POBIERZ PLIK M3U
      </a>
    </div>

    <div class="channels" id="list">Ładowanie kanałów...</div>

    <div class="extra">
      <button onclick="window.open('https://mmafreee.eu/stream/history.html','_blank')">
        <i class="fas fa-play-circle"></i> ODTWÓRZ HISTORY (nowe okno)
      </button>
    </div>
  </div>

  <script>
    fetch('https://security.freefreaks.top/playlist.m3u?t=' + Date.now())
      .then(r => r.text())
      .then(text => {
        const lines = text.split('\n');
        const container = document.getElementById('list');
        container.innerHTML = '';
        let name = 'Kanał';

        lines.forEach(line => {
          line = line.trim();
          if (line.startsWith('#EXTINF:')) {
            name = line.includes('tvg-name="') ? line.split('tvg-name="')[1].split('"')[0] : line.split(',').pop();
          } else if (line && line.includes('.m3u8')) {
            const div = document.createElement('div');
            div.className = 'channel';
            div.innerHTML = `<button onclick="window.open('${line}','_blank')"><i class="fas fa-play"></i> ${name}</button>`;
            container.appendChild(div);
          }
        });
      });
  </script>
</body>
</html>
